# SoulGuide 功能開發清單

## 🎯 項目目標

構建一個完整的身心靈與術數平台，連接用戶與專業術數老師。

## ✅ 已完成功能

### 核心基礎設施
- [x] 用戶認證系統（OAuth + JWT）
- [x] 超級管理員後台
- [x] 數據庫設計與遷移
- [x] TRPC API 框架
- [x] 前端組件庫

### 用戶管理
- [x] 用戶註冊和登錄
- [x] 用戶檔案管理
- [x] 用戶角色系統（admin, superadmin, teacher, user）
- [x] 用戶列表和刪除功能

### 老師管理
- [x] 老師列表展示
- [x] 老師新增功能
- [x] 老師刪除功能
- [x] 老師檔案基本信息

### 首頁和搜索
- [x] 首頁設計
- [x] 類別展示
- [x] 搜索功能
- [x] 搜索結果頁面
- [x] 類別篩選
- [x] 地區篩選
- [x] 排序功能

### 數據管理
- [x] 術數類別管理
- [x] 地區信息管理
- [x] 用戶數據導出（CSV）
- [x] 老師數據導出（CSV）

## 🚀 進行中的功能

### 當前開發
- [ ] 老師認證系統
  - [ ] 資格證明上傳
  - [ ] 管理員審核界面
  - [ ] 認證狀態跟蹤
  - [ ] 認證歷史記錄

## 📋 待開發功能

### 優先級 1（核心功能）

#### 1. 老師認證系統
**描述**：允許老師上傳資格證明，由管理員進行審核
**預期工作量**：3-4 天
**技術棧**：
- 前端：文件上傳組件、表單驗證
- 後端：文件存儲（S3）、審核工作流
- 數據庫：認證記錄表

**任務分解**：
- [ ] 設計認證數據模型
- [ ] 實現文件上傳功能
- [ ] 創建管理員審核界面
- [ ] 編寫認證相關 API
- [ ] 添加認證狀態顯示
- [ ] 編寫測試

**驗收標準**：
- 老師可以上傳多個認證文件
- 管理員可以審核和批准/拒絕
- 認證狀態實時更新
- 支持常見文件格式

---

#### 2. 預約系統
**描述**：用戶可以預約老師的服務
**預期工作量**：4-5 天
**技術棧**：
- 前端：日期選擇器、預約表單、預約管理
- 後端：預約邏輯、時間衝突檢查、通知系統
- 數據庫：預約表、服務項目表

**任務分解**：
- [ ] 設計預約數據模型
- [ ] 實現老師服務項目管理
- [ ] 創建預約表單和日期選擇
- [ ] 實現預約邏輯和衝突檢查
- [ ] 添加預約通知
- [ ] 創建預約管理頁面
- [ ] 編寫測試

**驗收標準**：
- 用戶可以查看老師可用時間
- 用戶可以成功預約
- 系統防止時間衝突
- 預約確認通知發送

---

#### 3. 支付集成（Stripe）
**描述**：集成 Stripe 支付系統
**預期工作量**：3-4 天
**技術棧**：
- 前端：支付表單、支付狀態顯示
- 後端：Stripe API 集成、支付處理、Webhook
- 數據庫：支付記錄表

**任務分解**：
- [ ] 配置 Stripe API
- [ ] 實現支付表單
- [ ] 創建支付處理邏輯
- [ ] 設置 Webhook 處理
- [ ] 添加支付狀態跟蹤
- [ ] 實現退款功能
- [ ] 編寫測試

**驗收標準**：
- 支付流程完整
- 支付成功後更新預約狀態
- 支持多種支付方式
- 安全處理敏感信息

---

#### 4. 評價和評分系統
**描述**：用戶可以評價和評分老師
**預期工作量**：2-3 天
**技術棧**：
- 前端：評分組件、評論表單、評價展示
- 後端：評價存儲、統計平均評分
- 數據庫：評價表

**任務分解**：
- [ ] 設計評價數據模型
- [ ] 實現評分組件
- [ ] 創建評論表單
- [ ] 實現評價列表展示
- [ ] 計算平均評分
- [ ] 添加評價管理功能
- [ ] 編寫測試

**驗收標準**：
- 用戶可以提交評價
- 評分和評論正確顯示
- 平均評分正確計算
- 老師可以回覆評價

---

### 優先級 2（增強功能）

#### 5. 老師個人檔案完善
**描述**：老師可以完善個人檔案信息
**預期工作量**：2 天
**功能**：
- [ ] 頭像上傳
- [ ] 個人簡介編輯
- [ ] 專業資格展示
- [ ] 服務地區設置
- [ ] 聯絡方式管理

#### 6. 消息和通知系統
**描述**：實現實時消息和通知
**預期工作量**：3-4 天
**功能**：
- [ ] 預約提醒通知
- [ ] 支付確認通知
- [ ] 評價回覆通知
- [ ] 實時消息系統
- [ ] 通知中心

#### 7. 高級搜索和篩選
**描述**：增強搜索功能
**預期工作量**：2 天
**功能**：
- [ ] 價格範圍篩選
- [ ] 可用時間篩選
- [ ] 認證狀態篩選
- [ ] 評分範圍篩選
- [ ] 搜索歷史記錄

#### 8. 分析和報表
**描述**：老師和管理員的數據分析
**預期工作量**：3 天
**功能**：
- [ ] 老師收入報表
- [ ] 預約統計
- [ ] 評價分析
- [ ] 用戶行為分析
- [ ] 導出報表

---

### 優先級 3（優化功能）

#### 9. 性能優化
- [ ] 代碼分割和懶加載
- [ ] 圖片優化和壓縮
- [ ] 數據庫查詢優化
- [ ] 緩存策略實現

#### 10. SEO 優化
- [ ] Meta 標籤優化
- [ ] 結構化數據
- [ ] 站點地圖生成
- [ ] 動態 OG 標籤

#### 11. 移動應用
- [ ] React Native 版本
- [ ] 原生 iOS 應用
- [ ] 原生 Android 應用

---

## 📊 開發進度

```
已完成: ████████░░░░░░░░░░░░ 40%
進行中: ░░░░░░░░░░░░░░░░░░░░ 0%
待開發: ░░░░░░░░░░░░░░░░░░░░ 60%
```

## 🗓️ 開發計劃

### 第 1 週（當前）
- 老師認證系統（進行中）
- 預約系統基礎

### 第 2 週
- 預約系統完成
- Stripe 支付集成

### 第 3 週
- 評價系統
- 老師檔案完善

### 第 4 週
- 消息通知系統
- 測試和優化

### 第 5 週+
- 高級功能
- 性能優化
- 移動應用

---

## 🔗 相關文件

- [DEVELOPMENT.md](./DEVELOPMENT.md) - 開發工作流程
- [package.json](./package.json) - 項目依賴
- [drizzle/schema.ts](./drizzle/schema.ts) - 數據庫 Schema
- [server/routers.ts](./server/routers.ts) - API 路由

---

**最後更新**：2026-01-13
**版本**：1.0
